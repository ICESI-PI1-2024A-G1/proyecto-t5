<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./tailwind.css" />
    <title>Panel de Control</title>
  </head>
  <body class="bg-slate-300">
    <aside
      id="asideMenu"
      class="w-[14%] h-screen bg-[#00599C] text-white shadow-xl fixed flex-col hidden xl:block"
    >
      <div class="flex flex-col">
        <button
          class="w-auto text-xl font-semibold m-4 mb-1 text-center hover:font-bold text-white py-2 px-4"
        >
          Control de solicitudes
        </button>
        <button
          class="w-auto text-xl font-semibold m-4 text-center hover:font-bold text-white py-2 px-4"
        >
          Formularios de solicitud
        </button>
      </div>
    </aside>
    <header id="mainHeader" class="bg-white shadow-xl px-6 ml-0 xl:ml-[14%]">
      <div class="mx-auto flex justify-between h-16 items-center">
        <div class="float-right flex">
          <a href="#" class="hover:text-blue-800 transition-colors">
            <svg
              class="h-10 w-10"
              data-slot="icon"
              fill="none"
              stroke-width="1.5"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"
              ></path>
            </svg>
          </a>
          <button
            id="toggleAside"
            class="ml-4 xl:hidden hover:text-blue-800 transition-colors"
          >
            <svg
              class="w-10 h-10"
              fill="none"
              stroke-width="1.5"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
              ></path>
            </svg>
          </button>
        </div>
        <div class="flex">
          <button class="p-1 hover:text-blue-800 transition-colors">
            <a href="">
              <svg
                class="h-10 w-10"
                data-slot="icon"
                fill="none"
                stroke-width="1.5"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"
                ></path>
              </svg>
            </a>
          </button>
          <button class="p-1 hover:text-blue-800 transition-colors">
            <a href="">
              <svg
                class="h-10 w-10"
                data-slot="icon"
                fill="none"
                stroke-width="1.5"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"
                ></path>
              </svg>
            </a>
          </button>
          <button class="p-1 hover:text-blue-800 transition-colors">
            <svg
              class="h-10 w-10"
              data-slot="icon"
              fill="none"
              stroke-width="1.5"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z"
              ></path>
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
              ></path>
            </svg>
          </button>
          <button class="flex p-5 space-x-2">
            <img
              class="w-10 h10 rounded-full"
              src="https://ui-avatars.com/api?name=Alejandro Castro"
              alt="Alejandro Castro"
            />
          </button>
        </div>
      </div>
    </header>
    <main id="main" class="xl:ml-[14%] p-4 pl-14 pr-14">
      <div>
        <h2 class="text-2xl font-bold text-left mb-4 mt-4">Panel de Control</h2>
        <div class="flex flex-row">
          <button
            class="transition-colors shadow text-xl font-semibold m-4 mb-0 ml-0 text-left bg-white hover:bg-[#136FB1] text-black hover:text-white py-5 px-10 rounded"
          >
            <svg
              class="w-13 h-13 sm:w-20 sm:h-20"
              data-slot="icon"
              fill="none"
              stroke-width="1.5"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"
              ></path>
            </svg>
            <div class="flex flex-col justify-center">
              <span
                class="text-s sm:text-xl font-bold leading-4 text-black m-2 ml-0 mb-0"
                >56</span
              >
              <span class="text-xs sm:text-sm text-black">Por validar</span>
            </div>
          </button>
          <button
            class="shadow transition-colors text-xl font-semibold m-4 mb-0 ml-0 text-left bg-white hover:bg-[#136FB1] text-black hover:text-white py-5 px-10 rounded"
          >
            <svg
              class="h-13 w-13 sm:w-20 sm:h-20"
              data-slot="icon"
              fill="none"
              stroke-width="1.5"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.068.157 2.148.279 3.238.364.466.037.893.281 1.153.671L12 21l2.652-3.978c.26-.39.687-.634 1.153-.67 1.09-.086 2.17-.208 3.238-.365 1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"
              ></path>
            </svg>
            <div class="flex flex-col justify-center">
              <span
                class="text-s sm:text-xl font-bold leading-4 text-black m-2 ml-0 mb-0"
                >45</span
              >
              <span class="text-xs sm:text-sm text-black">En proceso</span>
            </div>
          </button>
          <button
            class="shadow transition-colors text-xl font-semibold m-4 mb-0 ml-0 text-left bg-white hover:bg-[#136FB1] text-black hover:text-white py-5 px-10 rounded"
          >
            <svg
              class="h-13 w-13 sm:h-20 sm:w-20"
              data-slot="icon"
              fill="none"
              stroke-width="1.5"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"
              ></path>
            </svg>
            <div class="flex flex-col justify-center">
              <span
                class="text-s sm:text-xl font-bold leading-4 text-black m-2 ml-0 mb-0"
                >32</span
              >
              <span class="text-xs sm:text-sm text-black">Aprobados</span>
            </div>
          </button>
        </div>
      </div>
      <div>
        <table class="min-w-full divide-y divide-gray-200 mt-14 ml-0">
          <thead>
            <tr>
              <th
                class="border border-black px-6 py-3 bg-[#2A8FD0] text-center text-xs leading-4 font-extrabold text-black uppercase tracking-wider"
              >
                ID
              </th>
              <th
                class="border border-black px-6 py-3 bg-[#2A8FD0] text-center text-xs leading-4 font-extrabold text-black uppercase tracking-wider"
              >
                Solicitante
              </th>
              <th
                class="border border-black px-6 py-3 bg-[#2A8FD0] text-center text-xs leading-4 font-extrabold text-black uppercase tracking-wider"
              >
                Lider encargado
              </th>
              <th
                class="border border-black px-6 py-3 bg-[#2A8FD0] text-center text-xs leading-4 font-extrabold text-black uppercase tracking-wider"
              >
                Gestor encargado
              </th>
              <th
                class="border border-black px-6 py-3 bg-[#2A8FD0] text-center text-xs leading-4 font-extrabold text-black uppercase tracking-wider"
              >
                Estado
              </th>
              <th
                class="border border-black px-6 py-3 bg-[#2A8FD0] text-center text-xs leading-4 font-extrabold text-black uppercase tracking-wider"
              >
                Contrato
              </th>
              <th
                class="border border-black px-6 py-3 bg-[#2A8FD0] text-center text-xs leading-4 font-extrabold text-black uppercase tracking-wider"
              >
                Fecha incio
              </th>
              <th
                class="border border-black px-6 py-3 bg-[#2A8FD0] text-center text-xs leading-4 font-extrabold text-black uppercase tracking-wider"
              >
                Lider asignado
              </th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <tr>
              <td
                class="border border-black px-6 py-4 text-center whitespace-no-wrap"
              >
                1
              </td>
              <td
                class="border border-black px-6 py-4 text-center whitespace-no-wrap"
              >
                Alejandro Castro
              </td>
              <td
                class="border border-black px-6 py-4 text-center whitespace-no-wrap"
              >
                Roberto Álvarez
              </td>
              <td
                class="border border-black px-6 py-4 text-center whitespace-no-wrap"
              >
                Juan José Arana
              </td>
              <td
                id="statusButton"
                class="border border-black px-6 py-4 text-center whitespace-no-wrap relative"
              >
                <div>
                  <button
                    onclick="toggleDropdownStatus()"
                    class="bg-slate-200 rounded-full shadow px-3 py-1 hover:bg-slate-300 transition-colors"
                  >
                    <div
                      id="selectedOptionStatus"
                      class="font-semibold flex items-center"
                    >
                      En revisión
                    </div>
                  </button>
                  <div
                    id="dropdownStatus"
                    class="font-semibold bg-slate-200 shadow rounded px-3 py-1 mt-1 hidden flex flex-col absolute"
                  >
                    <button
                      onclick="changeOptionStatus('Contrato cancelado')"
                      class="bg-slate-50 rounded-full px-1 mt-1 hover:bg-slate-300 transition-colors"
                    >
                      Contrato cancelado
                    </button>
                    <button
                      onclick="changeOptionStatus('Datos faltantes')"
                      class="bg-slate-50 rounded-full px-1 mt-1 hover:bg-slate-300 transition-colors"
                    >
                      Datos faltantes
                    </button>
                    <button
                      onclick="changeOptionStatus('Por validar')"
                      class="bg-slate-50 rounded-full px-1 mt-1 hover:bg-slate-300 transition-colors"
                    >
                      Por validar
                    </button>
                    <button
                      onclick="changeOptionStatus('Contrato radicado')"
                      class="bg-slate-50 rounded-full px-1 mt-1 hover:bg-slate-300 transition-colors"
                    >
                      Contrato radicado
                    </button>
                    <button
                      onclick="changeOptionStatus('En revisión')"
                      class="bg-slate-50 rounded-full px-1 mt-1 hover:bg-slate-300 transition-colors"
                    >
                      En revisión
                    </button>
                  </div>
                </div>
              </td>
              <td
                class="border border-black px-6 py-4 text-center whitespace-no-wrap"
              >
                Honorarios
              </td>
              <td
                class="border border-black px-6 py-4 text-center whitespace-no-wrap"
              >
                02-04-2023
              </td>
              <td
                id="leaderButton"
                class="border border-black px-6 py-4 text-center whitespace-no-wrap relative"
              >
                <div>
                  <button
                    class="bg-slate-200 rounded-full shadow px-3 py-1 hover:bg-slate-300 transition-colors"
                  >
                    <div
                      id="selectedLeaderOption"
                      class="font-semibold flex items-center"
                    >
                      Valentina Martínez
                    </div>
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- Campo de comentario y botón de aceptar -->
      <div
        id="commentSection"
        class="hidden fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-8 rounded-lg shadow-lg"
      >
        <label for="comment" class="text-black font-semibold"
          >Comentario:</label
        >
        <textarea
          id="comment"
          class="block w-full border border-gray-300 p-2 mt-1"
        ></textarea>
        <button
          id="acceptButton"
          class="bg-blue-500 text-white font-semibold px-4 py-2 mt-2 rounded hover:bg-blue-600"
        >
          Aceptar
        </button>
      </div>
      <!-- Mensaje emergente -->
      <div
        id="commentSuccessMessage"
        class="hidden fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-500 text-white font-semibold px-4 py-2 rounded-lg shadow-lg"
      >
        Comentario guardado correctamente.
      </div>
      <div
        id="stateSuccessMessage"
        class="hidden fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-500 text-white font-semibold px-4 py-2 rounded-lg shadow-lg"
      >
        Estado guardado correctamente.
      </div>
    </main>
    <script>
      const toggleButton = document.getElementById("toggleAside");
      const asideMenu = document.getElementById("asideMenu");
      const mainHeader = document.getElementById("mainHeader");
      const main = document.getElementById("main");
      let isAsideVisible = false;
      var comment = "";

      document
        .getElementById("acceptButton")
        .addEventListener("click", function () {
          // Aquí puedes realizar cualquier acción que necesites con el comentario
          var comment = document.getElementById("comment").value;
          console.log("Comentario ingresado:", comment);

          // Después de realizar las acciones necesarias, oculta el campo de comentario
          document.getElementById("commentSection").classList.add("hidden");
          // Limpia el contenido de la caja de texto
          document.getElementById("comment").value = "";

          // Muestra el mensaje emergente
          document
            .getElementById("commentSuccessMessage")
            .classList.remove("hidden");

          // Oculta el mensaje emergente después de 1.5 segundos
          setTimeout(function () {
            document
              .getElementById("commentSuccessMessage")
              .classList.add("hidden");
          }, 1500);
        });

      function toggleDropdownStatus() {
        var dropdown = document.getElementById("dropdownStatus");
        dropdown.classList.toggle("hidden");
      }

      function changeOptionStatus(option) {
        var selectedOption = document.getElementById("selectedOptionStatus");
        previousOption = selectedOption.textContent; // Guarda el estado anterior
        selectedOption.textContent = option;

        // Si la opción seleccionada es "Contrato cancelado", muestra el campo de comentario y botón de aceptar
        if (option === "Contrato cancelado" || option == "Datos faltantes") {
          document.getElementById("commentSection").classList.remove("hidden");
        } else {
          document.getElementById("commentSection").classList.add("hidden");
          // Muestra el mensaje emergente
          document
            .getElementById("stateSuccessMessage")
            .classList.remove("hidden");
          // Oculta el mensaje emergente después de 1.5 segundos
          setTimeout(function () {
            document
              .getElementById("stateSuccessMessage")
              .classList.add("hidden");
          }, 1500);
        }

        toggleDropdownStatus(); // Oculta el menú desplegable después de seleccionar una opción
      }

      // Función para deshacer cambios con Ctrl + Z
      document.addEventListener("keydown", function (event) {
        if (event.ctrlKey && event.key === "z") {
          var selectedOption = document.getElementById("selectedOption");
          selectedOption.textContent = previousOption;
        }
      });

      toggleButton.addEventListener("click", function () {
        // Verifica si el aside está oculto
        if (!isAsideVisible) {
          // Si está oculto, muéstralo
          asideMenu.classList.remove("hidden");
          asideMenu.classList.add("w-40");
          asideMenu.classList.add("w-[27%]");

          // Mueve el header a la derecha
          mainHeader.classList.add("ml-[27%]"); // 1/8 de 100%

          //Mueve el main a la derecha
          main.classList.add("ml-[27%]");

          // Actualiza el estado del aside
          isAsideVisible = true;
        } else if (isAsideVisible || window.innerWidth >= 1280) {
          // Si está visible, ocúltalo
          asideMenu.classList.add("hidden");
          asideMenu.classList.remove("w-40");
          asideMenu.classList.remove("w-[27%]");

          // Mueve el header a la izquierda
          mainHeader.classList.remove("ml-[27%]");

          //Mueve el main a la izquierda
          main.classList.remove("ml-[27%]");

          // Actualiza el estado del aside
          isAsideVisible = false;
        }
      });
    </script>
  </body>
</html>
