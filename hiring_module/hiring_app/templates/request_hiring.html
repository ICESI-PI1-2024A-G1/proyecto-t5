<!-- main screen --> 
{% extends 'base.html' %}
{% load static %}

{% block title %}
    Request Hiring
{% endblock %}
{% block aditionalMetadata %}
    <style>
        .expanded {
            margin-left: 18vw; /* Ancho del sidebar */
            transition: margin-left 0.3s; /* Agregar una transición para un efecto suave */
        }

        .nonExpanded {
            margin-left: 3vw; /* Ancho del sidebar */
            transition: margin-left 0.3s; /* Agregar una transición para un efecto suave */
        }
    </style>

{% endblock %}

{% block content %}


    <div>
        {% include 'components/header.html' %}

    </div>
    <div id="sidebar">
        {% include 'components/LeftSideMenu.html' %}
    </div>
    <main id="main" class="expanded">
        <div style="text-align: center; margin-top: 1rem;">
            {% include 'request_hiring/center_container.html' %}
        </div>

        <div style="display: flex; justify-content: center; margin-top: 1rem;">
            {% include 'request_hiring/date_details.html' %}
            {% include 'request_hiring/progress_bar.html' %}
        </div>
    
        <div style="display: flex; justify-content: center; margin-top: 1rem;">
            {% include 'request_hiring/request_details.html' %}
            {% include 'request_hiring/components/snapshot.html' %}
        </div>
    </main>

    <div id="errorPopup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: rgba(255, 0, 0, 0.8); padding: 20px; border-radius: 5px; color: white; font-weight: bold; z-index: 9999;"></div>

    <script src="{% static 'js/side_bar.js' %}"></script>


    {% if error_message %}
    <script>
        function showErrorPopup(message) {
            var popup = document.getElementById('errorPopup');
            popup.innerHTML = message;
            popup.style.display = 'block';
            // Ocultar el pop-up después de 2 segundos
            setTimeout(function() {
                popup.style.display = 'none';
            }, 2000);
        }

        // Código para mostrar el pop-up si hay un mensaje de error disponible
        var errorMessage = "{{ error_message }}";
        if (errorMessage && errorMessage !== 'None') {
            showErrorPopup(errorMessage);
        }
    </script>
    {% endif %}
{% endblock %}
