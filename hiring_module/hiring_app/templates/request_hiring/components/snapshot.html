<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script> 
<script src="https://malsup.github.io/jquery.form.js"></script> 

<script> 
    $(document).ready(function() { 
        $('#edit-comment').ajaxForm({
            success: function(responseText, status, xhr, $form) {
                if (status == 'success') {
                    alert("El comentario ha sido actualizado exitosamente.");
                } else {
                    alert("Error: No se pudo actualizar el comentario.");
                }
            },
            error: function(xhr, status, error) {
                alert("Error: " + error);
            }
        });
    }); 
</script>


<div style="width: 33%; background-color: #cbd5e0; padding: 1rem;">
    <form id="edit-comment" method="post" action="{% url 'hiring_app:snapshots' idContract=contract_request.id %}">
        {% csrf_token %}
        <textarea name="comment" style="width: 100%; padding: 0.5rem; border-radius: 0.375rem; border: 1px solid #cbd5e0; outline: none; resize: vertical;">{{ snapshot_comment }}</textarea>
        <button type="submit" name="action" value="edit-comment" style="display: block; width: 100%; padding: 0.5rem; margin-top: 0.5rem; border: none; border-radius: 0.375rem; background-color: #4a5568; color: #fff; font-weight: 600; cursor: pointer; transition: background-color 0.3s ease;">Guardar</button>
    </form>
    <form method="post" action="{% url 'hiring_app:snapshots' idContract=contract_request.id %}">
        {% csrf_token %}
        <button type="submit" name="action" value="view-snapshots" style="display: block; width: 100%; padding: 0.5rem; margin-top: 0.5rem; border: none; border-radius: 0.375rem; background-color: #4a5568; color: #fff; font-weight: 600; cursor: pointer; transition: background-color 0.3s ease;">Ver bitacoras</button>
    </form>
</div>

