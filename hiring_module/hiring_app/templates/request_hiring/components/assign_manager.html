<form id="ChangeManagerForm" method="post" action="{% url 'hiring_app:assign_manager' contract_request.id %}" style="margin-bottom: 1rem;">
    {% csrf_token %}
    <label for="manager" style="margin-right: 0.5rem; color: #4a5568; font-weight: 600;">Gestor:</label>    
    <select name="manager" id="managerSelect" style="padding: 0.5rem; border-radius: 0.375rem; border: 1px solid #cbd5e0; outline: none; transition: border-color 0.15s ease-in-out; width: 100%; max-width: 100%; background-color: #fff;">
        <option value="" disabled selected style="color: #a0aec0;">Seleccionar</option>
        {% for manager in managers %}
        <option value="{{ manager.id }}" {% if manager.id == contract_request.manager_assigned_to.id %}selected{% endif %} style="color: #4a5568;">{{ manager.first_name }} {{ manager.last_name }}</option>
        {% endfor %}
    </select>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var selectElement = document.getElementById('managerSelect');
        selectElement.addEventListener('change', function () {
            document.getElementById('ChangeManagerForm').submit();
        });
    });
</script>
