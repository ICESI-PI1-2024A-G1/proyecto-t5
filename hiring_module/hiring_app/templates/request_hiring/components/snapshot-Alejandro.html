<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>
<script src="https://malsup.github.io/jquery.form.js"></script>

<script>
    $(document).ready(function () {
        // Initialize the ajaxForm plugin for the form with id "edit-comment"
        $('#edit-comment').ajaxForm({
            // Define success callback function
            success: function (responseText, status, xhr, $form) {
                if (status == 'success') {
                    // Display success message if the request was successful
                    alert("El comentario ha sido actualizado exitosamente.");
                } else {
                    // Display error message if the request was not successful
                    alert("Error: No se pudo actualizar el comentario.");
                }
            },
            // Define error callback function
            error: function (xhr, status, error) {
                // Display error message if an error occurs during the request
                alert("Error: " + error);
            }
        });
    });
</script>

<div style="width: 33%; background-color: #cbd5e0; padding: 1rem;">
    <!-- Form for editing comment -->
    <form id="edit-comment" method="post" action="{% url 'hiring_app:snapshots' idContract=contract_request.id %}">
        {% csrf_token %}
        <!-- Textarea for entering comment -->
        <textarea name="comment"
            style="width: 100%; padding: 0.5rem; border-radius: 0.375rem; border: 1px solid #cbd5e0; outline: none; resize: vertical;">{{ snapshot_comment }}</textarea>
        <!-- Submit button for saving comment -->
        <button type="submit" name="action" value="edit-comment"
            style="display: block; width: 100%; padding: 0.5rem; margin-top: 0.5rem; border: none; border-radius: 0.375rem; background-color: #4a5568; color: #fff; font-weight: 600; cursor: pointer; transition: background-color 0.3s ease;">Guardar</button>
    </form>
    <!-- Form for viewing snapshots -->
    <form method="post" action="{% url 'hiring_app:snapshots' idContract=contract_request.id %}">
        {% csrf_token %}
        <!-- Submit button for viewing snapshots -->
        <button type="submit" name="action" value="view-snapshots"
            style="display: block; width: 100%; padding: 0.5rem; margin-top: 0.5rem; border: none; border-radius: 0.375rem; background-color: #4a5568; color: #fff; font-weight: 600; cursor: pointer; transition: background-color 0.3s ease;">Ver
            bitacoras</button>
    </form>
</div>